const a5_0x4211a4=a5_0x5b11;(function(_0x5f3440,_0x1908a3){const _0x1669e8=a5_0x5b11,_0x5a0b2a=_0x5f3440();while(!![]){try{const _0x14f333=-parseInt(_0x1669e8(0x1cd))/0x1*(-parseInt(_0x1669e8(0x1d0))/0x2)+-parseInt(_0x1669e8(0x1c0))/0x3*(parseInt(_0x1669e8(0x1c1))/0x4)+parseInt(_0x1669e8(0x1cf))/0x5*(parseInt(_0x1669e8(0x1b9))/0x6)+parseInt(_0x1669e8(0x1ce))/0x7*(-parseInt(_0x1669e8(0x1c7))/0x8)+parseInt(_0x1669e8(0x1bf))/0x9*(-parseInt(_0x1669e8(0x1ba))/0xa)+parseInt(_0x1669e8(0x1cb))/0xb*(parseInt(_0x1669e8(0x1c6))/0xc)+parseInt(_0x1669e8(0x1c2))/0xd*(parseInt(_0x1669e8(0x1c4))/0xe);if(_0x14f333===_0x1908a3)break;else _0x5a0b2a['push'](_0x5a0b2a['shift']());}catch(_0x4d09e0){_0x5a0b2a['push'](_0x5a0b2a['shift']());}}}(a5_0x5b86,0xd3dfe));const requiredParam=require(a5_0x4211a4(0x1be)),DBModel=require('../../../models/database'),db=new DBModel();function a5_0x5b86(){const _0x529316=['8152hOwHxM','select\x20jc.*,\x20poh.object_name\x20from\x20config.bulk_counters\x20jc\x20left\x20join\x20config.policy_object_hash\x20poh\x20on\x20jc.execution_id\x20=\x20poh.execution_id\x20and\x20jc.object_id\x20=\x20poh.object_id\x20where\x20jc.execution_id\x20=\x20$1','\x20recordRetention:\x20','executionId','1881jSidXX','error','11QQdWMc','2751hUrCFJ','165YMqsNR','122438KYDzRs','failedCount','initialCount','\x20failedCount:\x20','exports','INSERT\x20INTO\x20config.bulk_counters\x20(execution_id,\x20record_retention,\x20object_id,\x20initial_count,\x20total_count,\x20updated_count,\x20failed_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3,\x20$4,\x20$5,\x20$6,\x20$7)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(execution_id,\x20record_retention,\x20object_id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20initial_count\x20=\x20config.bulk_counters.initial_count\x20+\x20EXCLUDED.initial_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20total_count\x20=\x20config.bulk_counters.total_count\x20+\x20EXCLUDED.total_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updated_count\x20=\x20config.bulk_counters.updated_count\x20+\x20EXCLUDED.updated_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20failed_count\x20=\x20config.bulk_counters.failed_count\x20+\x20EXCLUDED.failed_count\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*\x0a\x20\x20\x20\x20','93606Cuhwpp','27090sZxqjN','.\x20Error:\x20','objectId','\x20totalCount:\x20','../../../utils/required-param','5373irCxBi','55254wgGaxe','4mXrZbY','507dpuMqi','Error\x20retrieving\x20bulk\x20counters\x20by\x20executionId:\x20','526106rDuNgZ','rows','17556GxdMKA'];a5_0x5b86=function(){return _0x529316;};return a5_0x5b86();}function a5_0x5b11(_0x4627f3,_0x20c6be){const _0x5b8607=a5_0x5b86();return a5_0x5b11=function(_0x5b112f,_0x29225c){_0x5b112f=_0x5b112f-0x1b5;let _0x49dc2b=_0x5b8607[_0x5b112f];return _0x49dc2b;},a5_0x5b11(_0x4627f3,_0x20c6be);}async function updateBulkCounters(_0x33ec31=requiredParam(a5_0x4211a4(0x1ca)),_0x3466d9=requiredParam('recordRetention'),_0x485853=requiredParam(a5_0x4211a4(0x1bc)),_0x38ee66=requiredParam(a5_0x4211a4(0x1b5)),_0x482036=requiredParam('updatedCount'),_0x275344=requiredParam(a5_0x4211a4(0x1d1)),_0x128bef=requiredParam('totalCount')){const _0x465e43=a5_0x4211a4,_0x16801c=_0x465e43(0x1b8),_0x448e15=[_0x33ec31,_0x3466d9,_0x485853,_0x38ee66,_0x128bef,_0x482036,_0x275344];try{const _0x4e7207=await db['updateQuery'](_0x16801c,_0x448e15);return _0x4e7207;}catch(_0x1dfe43){return console[_0x465e43(0x1cc)]('Bulk\x20counters\x20update\x20query\x20failed!\x20executionId:\x20'+_0x33ec31+_0x465e43(0x1c9)+_0x3466d9+'\x20objectId:\x20'+_0x485853+'\x20updatedCount:\x20'+_0x482036+_0x465e43(0x1b6)+_0x275344+_0x465e43(0x1bd)+_0x128bef,_0x1dfe43),null;}}async function getBulkCountersByExecutionId(_0x36aeaa=requiredParam(a5_0x4211a4(0x1ca))){const _0x1bfd31=a5_0x4211a4,_0x2b02c8=_0x1bfd31(0x1c8),_0x1ced26=[_0x36aeaa];try{const _0x3c518b=await db['getQuery'](_0x2b02c8,_0x1ced26);return _0x3c518b[_0x1bfd31(0x1c5)];}catch(_0x5a86ee){return console[_0x1bfd31(0x1cc)](_0x1bfd31(0x1c3)+_0x36aeaa+_0x1bfd31(0x1bb),_0x5a86ee),null;}}module[a5_0x4211a4(0x1b7)]={'updateBulkCounters':updateBulkCounters,'getBulkCountersByExecutionId':getBulkCountersByExecutionId};