function a5_0x4e1f(_0xebbcf6,_0x51650b){const _0x44acb9=a5_0x44ac();return a5_0x4e1f=function(_0x4e1fe9,_0x40c828){_0x4e1fe9=_0x4e1fe9-0xad;let _0x960e66=_0x44acb9[_0x4e1fe9];return _0x960e66;},a5_0x4e1f(_0xebbcf6,_0x51650b);}const a5_0x56e169=a5_0x4e1f;(function(_0x109808,_0x2a8077){const _0x2b02ef=a5_0x4e1f,_0x18b68a=_0x109808();while(!![]){try{const _0x3e024d=parseInt(_0x2b02ef(0xb1))/0x1*(-parseInt(_0x2b02ef(0xc6))/0x2)+-parseInt(_0x2b02ef(0xc9))/0x3*(-parseInt(_0x2b02ef(0xb8))/0x4)+-parseInt(_0x2b02ef(0xc2))/0x5*(-parseInt(_0x2b02ef(0xb3))/0x6)+parseInt(_0x2b02ef(0xc4))/0x7*(-parseInt(_0x2b02ef(0xb7))/0x8)+-parseInt(_0x2b02ef(0xb5))/0x9+-parseInt(_0x2b02ef(0xc0))/0xa+parseInt(_0x2b02ef(0xb4))/0xb*(parseInt(_0x2b02ef(0xb2))/0xc);if(_0x3e024d===_0x2a8077)break;else _0x18b68a['push'](_0x18b68a['shift']());}catch(_0x5834ec){_0x18b68a['push'](_0x18b68a['shift']());}}}(a5_0x44ac,0x94866));const requiredParam=require(a5_0x56e169(0xad)),DBModel=require(a5_0x56e169(0xc3)),db=new DBModel();async function updateBulkCounters(_0x2b9625=requiredParam('executionId'),_0x23d5f1=requiredParam(a5_0x56e169(0xbe)),_0x49cdfc=requiredParam(a5_0x56e169(0xbc)),_0x35c83b=requiredParam(a5_0x56e169(0xca)),_0x29dec2=requiredParam('updatedCount'),_0x5a398f=requiredParam('failedCount'),_0x42b36b=requiredParam('totalCount')){const _0x172b24=a5_0x56e169,_0x5a73e8='INSERT\x20INTO\x20config.bulk_counters\x20(execution_id,\x20record_retention,\x20object_id,\x20initial_count,\x20total_count,\x20updated_count,\x20failed_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3,\x20$4,\x20$5,\x20$6,\x20$7)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(execution_id,\x20record_retention,\x20object_id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20initial_count\x20=\x20config.bulk_counters.initial_count\x20+\x20EXCLUDED.initial_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20total_count\x20=\x20config.bulk_counters.total_count\x20+\x20EXCLUDED.total_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updated_count\x20=\x20config.bulk_counters.updated_count\x20+\x20EXCLUDED.updated_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20failed_count\x20=\x20config.bulk_counters.failed_count\x20+\x20EXCLUDED.failed_count\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*\x0a\x20\x20\x20\x20',_0x423215=[_0x2b9625,_0x23d5f1,_0x49cdfc,_0x35c83b,_0x42b36b,_0x29dec2,_0x5a398f];try{const _0xe1f625=await db['updateQuery'](_0x5a73e8,_0x423215);return _0xe1f625;}catch(_0x4f43b7){return console[_0x172b24(0xc8)](_0x172b24(0xbb)+_0x2b9625+_0x172b24(0xba)+_0x23d5f1+_0x172b24(0xae)+_0x49cdfc+_0x172b24(0xc1)+_0x29dec2+_0x172b24(0xc7)+_0x5a398f+_0x172b24(0xc5)+_0x42b36b,_0x4f43b7),null;}}function a5_0x44ac(){const _0x243707=['4160219BMQaqz','\x20totalCount:\x20','8YlGAPh','\x20failedCount:\x20','error','12iduvWc','initialCount','../../../utils/required-param','\x20objectId:\x20','select\x20jc.*,\x20poh.object_name\x20from\x20config.bulk_counters\x20jc\x20left\x20join\x20config.policy_object_hash\x20poh\x20on\x20jc.execution_id\x20=\x20poh.execution_id\x20and\x20jc.object_id\x20=\x20poh.object_id\x20where\x20jc.execution_id\x20=\x20$1','getQuery','27109zMwIDU','420jVFJoJ','50646lnlRyS','276199zjAgfZ','280494jjjzGt','rows','8aTkeMo','379884iGwjJR','Error\x20retrieving\x20bulk\x20counters\x20by\x20executionId:\x20','\x20recordRetention:\x20','Bulk\x20counters\x20update\x20query\x20failed!\x20executionId:\x20','objectId','exports','recordRetention','executionId','9546650yunTbN','\x20updatedCount:\x20','615ZNeQth','../../../models/database'];a5_0x44ac=function(){return _0x243707;};return a5_0x44ac();}async function getBulkCountersByExecutionId(_0x5a7fde=requiredParam(a5_0x56e169(0xbf))){const _0x5b92f4=a5_0x56e169,_0x194712=_0x5b92f4(0xaf),_0x45824c=[_0x5a7fde];try{const _0x189e46=await db[_0x5b92f4(0xb0)](_0x194712,_0x45824c);return _0x189e46[_0x5b92f4(0xb6)];}catch(_0x20492a){return console[_0x5b92f4(0xc8)](_0x5b92f4(0xb9)+_0x5a7fde+'.\x20Error:\x20',_0x20492a),null;}}module[a5_0x56e169(0xbd)]={'updateBulkCounters':updateBulkCounters,'getBulkCountersByExecutionId':getBulkCountersByExecutionId};