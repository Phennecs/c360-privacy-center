function a5_0xc3f9(){const _0x4e20b6=['684104LIropT','469763GVUinl','\x20objectId:\x20','.\x20Error:\x20','../../../models/database','\x20updatedCount:\x20','failedCount','Bulk\x20counters\x20update\x20query\x20failed!\x20executionId:\x20','totalCount','255120RErQAH','30NDaNTG','52EmfeHa','error','../../../utils/required-param','recordRetention','1509471dkYdXR','initialCount','68555WLiXwE','rows','1836744roKVJF','\x20failedCount:\x20','Error\x20retrieving\x20bulk\x20counters\x20by\x20executionId:\x20','50dwAyug','executionId','8215VUEUmB'];a5_0xc3f9=function(){return _0x4e20b6;};return a5_0xc3f9();}const a5_0x4ff605=a5_0x4e18;(function(_0xfc64b3,_0x501b60){const _0x1336f4=a5_0x4e18,_0x1b7879=_0xfc64b3();while(!![]){try{const _0x7e1bba=parseInt(_0x1336f4(0xec))/0x1*(-parseInt(_0x1336f4(0xdf))/0x2)+-parseInt(_0x1336f4(0xdd))/0x3+-parseInt(_0x1336f4(0xed))/0x4+parseInt(_0x1336f4(0xe5))/0x5*(-parseInt(_0x1336f4(0xde))/0x6)+parseInt(_0x1336f4(0xee))/0x7+-parseInt(_0x1336f4(0xe7))/0x8+parseInt(_0x1336f4(0xe3))/0x9*(parseInt(_0x1336f4(0xea))/0xa);if(_0x7e1bba===_0x501b60)break;else _0x1b7879['push'](_0x1b7879['shift']());}catch(_0x3a00a4){_0x1b7879['push'](_0x1b7879['shift']());}}}(a5_0xc3f9,0x21aac));function a5_0x4e18(_0xcca460,_0x31c215){const _0xc3f971=a5_0xc3f9();return a5_0x4e18=function(_0x4e1887,_0x21e3be){_0x4e1887=_0x4e1887-0xd7;let _0x53c2b3=_0xc3f971[_0x4e1887];return _0x53c2b3;},a5_0x4e18(_0xcca460,_0x31c215);}const requiredParam=require(a5_0x4ff605(0xe1)),DBModel=require(a5_0x4ff605(0xd8)),db=new DBModel();async function updateBulkCounters(_0xbd9c2d=requiredParam(a5_0x4ff605(0xeb)),_0x36bf30=requiredParam(a5_0x4ff605(0xe2)),_0x233000=requiredParam('objectId'),_0x55aee6=requiredParam(a5_0x4ff605(0xe4)),_0x3c7ddb=requiredParam('updatedCount'),_0x50745e=requiredParam(a5_0x4ff605(0xda)),_0x5531f6=requiredParam(a5_0x4ff605(0xdc))){const _0x1a9c9b=a5_0x4ff605,_0x1444b9='INSERT\x20INTO\x20config.bulk_counters\x20(execution_id,\x20record_retention,\x20object_id,\x20initial_count,\x20total_count,\x20updated_count,\x20failed_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3,\x20$4,\x20$5,\x20$6,\x20$7)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(execution_id,\x20record_retention,\x20object_id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20initial_count\x20=\x20config.bulk_counters.initial_count\x20+\x20EXCLUDED.initial_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20total_count\x20=\x20config.bulk_counters.total_count\x20+\x20EXCLUDED.total_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updated_count\x20=\x20config.bulk_counters.updated_count\x20+\x20EXCLUDED.updated_count,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20failed_count\x20=\x20config.bulk_counters.failed_count\x20+\x20EXCLUDED.failed_count\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*\x0a\x20\x20\x20\x20',_0x5ca1e4=[_0xbd9c2d,_0x36bf30,_0x233000,_0x55aee6,_0x5531f6,_0x3c7ddb,_0x50745e];try{const _0xc83b6e=await db['updateQuery'](_0x1444b9,_0x5ca1e4);return _0xc83b6e;}catch(_0x1b562d){return console[_0x1a9c9b(0xe0)](_0x1a9c9b(0xdb)+_0xbd9c2d+'\x20recordRetention:\x20'+_0x36bf30+_0x1a9c9b(0xef)+_0x233000+_0x1a9c9b(0xd9)+_0x3c7ddb+_0x1a9c9b(0xe8)+_0x50745e+'\x20totalCount:\x20'+_0x5531f6,_0x1b562d),null;}}async function getBulkCountersByExecutionId(_0x2bf05f=requiredParam(a5_0x4ff605(0xeb))){const _0x5aea75=a5_0x4ff605,_0x31d6a6='select\x20jc.*,\x20poh.object_name\x20from\x20config.bulk_counters\x20jc\x20left\x20join\x20config.policy_object_hash\x20poh\x20on\x20jc.execution_id\x20=\x20poh.execution_id\x20and\x20jc.object_id\x20=\x20poh.object_id\x20where\x20jc.execution_id\x20=\x20$1',_0x35138b=[_0x2bf05f];try{const _0x21cce2=await db['getQuery'](_0x31d6a6,_0x35138b);return _0x21cce2[_0x5aea75(0xe6)];}catch(_0x5ab8a2){return console[_0x5aea75(0xe0)](_0x5aea75(0xe9)+_0x2bf05f+_0x5aea75(0xd7),_0x5ab8a2),null;}}module['exports']={'updateBulkCounters':updateBulkCounters,'getBulkCountersByExecutionId':getBulkCountersByExecutionId};