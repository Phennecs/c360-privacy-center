const a4_0x50aac3=a4_0x5579;(function(_0x202170,_0x3c1dfc){const _0x3cd05b=a4_0x5579,_0x2297ad=_0x202170();while(!![]){try{const _0x19f26c=parseInt(_0x3cd05b(0xe1))/0x1*(parseInt(_0x3cd05b(0xe8))/0x2)+parseInt(_0x3cd05b(0xde))/0x3*(parseInt(_0x3cd05b(0xea))/0x4)+parseInt(_0x3cd05b(0xe6))/0x5*(parseInt(_0x3cd05b(0xdd))/0x6)+parseInt(_0x3cd05b(0xd7))/0x7*(parseInt(_0x3cd05b(0xe9))/0x8)+parseInt(_0x3cd05b(0xf9))/0x9+-parseInt(_0x3cd05b(0xe3))/0xa*(-parseInt(_0x3cd05b(0xe7))/0xb)+-parseInt(_0x3cd05b(0xfd))/0xc*(parseInt(_0x3cd05b(0xfa))/0xd);if(_0x19f26c===_0x3c1dfc)break;else _0x2297ad['push'](_0x2297ad['shift']());}catch(_0x3838fb){_0x2297ad['push'](_0x2297ad['shift']());}}}(a4_0x4b8e,0xa2137));const requiredParam=require(a4_0x50aac3(0xf6)),DBModel=require(a4_0x50aac3(0xe2)),generateUUID=require(a4_0x50aac3(0xef)),{TableNotFoundError,GenericTableError}=require('../../../errors'),db=new DBModel();function buildTmpBulkBatchTableCreateQuery(_0x74edd9=requiredParam('bulkBatchTableName')){const _0x2c11ae=a4_0x50aac3;console[_0x2c11ae(0xe5)](_0x2c11ae(0xf5)+_0x74edd9);const _0x35c57d=_0x2c11ae(0xf4),_0x2dc8fc=db[_0x2c11ae(0xdb)](_0x2c11ae(0xf3),_0x35c57d,_0x74edd9);return console[_0x2c11ae(0xe5)](_0x2c11ae(0xd9)+_0x2dc8fc),_0x2dc8fc;}async function createTmpBulkBatchTable(){const _0x585df9=a4_0x50aac3,_0x467757=_0x585df9(0xeb)+generateUUID(![]),_0x262262=buildTmpBulkBatchTableCreateQuery(_0x467757),_0x27a0b6=await db[_0x585df9(0xd5)](_0x262262);return _0x467757;}async function dropTmpBulkBatchTable(_0x21483e){const _0x157403=a4_0x50aac3,_0x9336cf=db['format'](_0x157403(0xdc),_0x157403(0xf4),_0x21483e),_0x17b187=await db[_0x157403(0xfc)](_0x9336cf);return _0x17b187;}async function loadTmpBulkBatchTable(_0x4c4650=requiredParam(a4_0x50aac3(0xd6)),_0x2e91e5=requiredParam(a4_0x50aac3(0xdf))){const _0x15d2d8=a4_0x50aac3,_0x55014e=[];while(_0x2e91e5[_0x15d2d8(0xf0)]){const _0x332004=_0x2e91e5['shift']();_0x55014e[_0x15d2d8(0xed)]([_0x332004['id'],JSON[_0x15d2d8(0xfe)](_0x332004)]);}const _0x2d8520=db['format'](_0x15d2d8(0xf2),'cache',_0x4c4650,_0x55014e);console[_0x15d2d8(0xe5)](_0x15d2d8(0xf7)+_0x2d8520['slice'](0x0,0xc8));const _0xb0efcb=await db['createQuery'](_0x2d8520);return _0xb0efcb;}async function retrieveBulkBatchRecords(_0x2b6dd4=requiredParam(a4_0x50aac3(0xd6))){const _0x4ca5e2=a4_0x50aac3,_0x2d63cf=db['format'](_0x4ca5e2(0xf1),_0x4ca5e2(0xf4),_0x2b6dd4);try{const _0x4a4bec=await db['getQuery'](_0x2d63cf),_0x317ea1=[];while(_0x4a4bec[_0x4ca5e2(0xe4)][_0x4ca5e2(0xf0)]){const _0x56a063=_0x4a4bec[_0x4ca5e2(0xe4)][_0x4ca5e2(0xd8)](),_0x16f63b=JSON['parse'](_0x56a063[_0x4ca5e2(0xe0)]);_0x317ea1[_0x4ca5e2(0xed)](_0x16f63b);}return _0x317ea1;}catch(_0x5ce568){console[_0x4ca5e2(0xf8)]('Error\x20running\x20query\x20on\x20'+_0x2b6dd4+_0x4ca5e2(0xec),_0x5ce568);if(_0x5ce568[_0x4ca5e2(0xee)]&&_0x5ce568[_0x4ca5e2(0xee)]==='42P01')throw new TableNotFoundError(_0x5ce568[_0x4ca5e2(0xfb)]);else throw new GenericTableError(_0x5ce568);}}module[a4_0x50aac3(0xda)]={'createTmpBulkBatchTable':createTmpBulkBatchTable,'dropTmpBulkBatchTable':dropTmpBulkBatchTable,'loadTmpBulkBatchTable':loadTmpBulkBatchTable,'retrieveBulkBatchRecords':retrieveBulkBatchRecords};function a4_0x5579(_0x431a51,_0x53dcf0){const _0x4b8e09=a4_0x4b8e();return a4_0x5579=function(_0x557976,_0x4bff68){_0x557976=_0x557976-0xd5;let _0x5a381d=_0x4b8e09[_0x557976];return _0x5a381d;},a4_0x5579(_0x431a51,_0x53dcf0);}function a4_0x4b8e(){const _0x182894=['DROP\x20TABLE\x20IF\x20EXISTS\x20%I.%I;','4696290UzCFPy','3XCDHrm','batchRecords','json_record','1585JPXdvw','../../../models/database','8390FbHPqU','rows','log','5EqnWSX','6743RRYnyn','2LTuqjG','240736hvSKwT','292504fqOcAw','_bt_','\x20in\x20retrieveBulkBatchRecords:\x20','push','code','../../../utils/generate-uuid','length','SELECT\x20*\x20from\x20%I.%I;','INSERT\x20INTO\x20%I.%I\x20(sfid,\x20json_record)\x20VALUES\x20%L','CREATE\x20TABLE\x20%I.%I\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sfid\x20varchar(18),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20json_record\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY(sfid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);','cache','buildTmpBulkBatchTableCreateQuery\x20invoked\x20with\x20params\x20=>\x20bulkBatchTableName=','../../../utils/required-param','Tmp\x20bulk\x20batch\x20insert\x20query\x20generated:\x20','error','11268396ufuMar','5239ltJtos','message','dropQuery','64632tUfvSe','stringify','createQuery','bulkBatchTableName','49vlnvQZ','shift','Generated\x20tmp\x20bulk\x20batch\x20createQueryString\x20->\x20','exports','format'];a4_0x4b8e=function(){return _0x182894;};return a4_0x4b8e();}