const a4_0x196c55=a4_0x3b9c;(function(_0x4a7e20,_0x4fdde2){const _0x1eec23=a4_0x3b9c,_0x5611f8=_0x4a7e20();while(!![]){try{const _0x4a9f54=-parseInt(_0x1eec23(0x71))/0x1+parseInt(_0x1eec23(0x87))/0x2*(-parseInt(_0x1eec23(0x7e))/0x3)+-parseInt(_0x1eec23(0x6f))/0x4*(parseInt(_0x1eec23(0x70))/0x5)+parseInt(_0x1eec23(0x86))/0x6+parseInt(_0x1eec23(0x65))/0x7*(parseInt(_0x1eec23(0x78))/0x8)+-parseInt(_0x1eec23(0x6c))/0x9+parseInt(_0x1eec23(0x74))/0xa;if(_0x4a9f54===_0x4fdde2)break;else _0x5611f8['push'](_0x5611f8['shift']());}catch(_0x14ca0d){_0x5611f8['push'](_0x5611f8['shift']());}}}(a4_0x5cf7,0x4cd4e));function a4_0x3b9c(_0x308221,_0x486262){const _0x5cf77c=a4_0x5cf7();return a4_0x3b9c=function(_0x3b9c49,_0x32d7a1){_0x3b9c49=_0x3b9c49-0x64;let _0x3594be=_0x5cf77c[_0x3b9c49];return _0x3594be;},a4_0x3b9c(_0x308221,_0x486262);}const requiredParam=require(a4_0x196c55(0x66)),DBModel=require('../../../models/database'),generateUUID=require('../../../utils/generate-uuid'),{TableNotFoundError,GenericTableError}=require(a4_0x196c55(0x7a)),db=new DBModel();function buildTmpBulkBatchTableCreateQuery(_0xeeb6da=requiredParam('bulkBatchTableName')){const _0x3c7356=a4_0x196c55;console[_0x3c7356(0x72)](_0x3c7356(0x83)+_0xeeb6da);const _0x524692='cache',_0x2734ad=db['format'](_0x3c7356(0x82),_0x524692,_0xeeb6da);return console['log'](_0x3c7356(0x68)+_0x2734ad),_0x2734ad;}function a4_0x5cf7(){const _0x484898=['format','42P01','206352klggQm','code','push','2026084zZXfFm','5tIDMLO','403870UfixXJ','log','INSERT\x20INTO\x20%I.%I\x20(sfid,\x20json_record)\x20VALUES\x20%L','12295850TkddPC','message','rows','length','7144AXvXNx','Error\x20running\x20query\x20on\x20','../../../errors','createQuery','parse','_bt_','12oeOcad','cache','batchRecords','stringify','CREATE\x20TABLE\x20%I.%I\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sfid\x20varchar(18),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20json_record\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY(sfid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);','buildTmpBulkBatchTableCreateQuery\x20invoked\x20with\x20params\x20=>\x20bulkBatchTableName=','slice','json_record','133158HReXsk','296122RJBoyk','DROP\x20TABLE\x20IF\x20EXISTS\x20%I.%I;','shift','4613ZrHRBB','../../../utils/required-param','SELECT\x20*\x20from\x20%I.%I;','Generated\x20tmp\x20bulk\x20batch\x20createQueryString\x20->\x20','bulkBatchTableName'];a4_0x5cf7=function(){return _0x484898;};return a4_0x5cf7();}async function createTmpBulkBatchTable(){const _0x13e08b=a4_0x196c55,_0x472491=_0x13e08b(0x7d)+generateUUID(![]),_0x3fbac4=buildTmpBulkBatchTableCreateQuery(_0x472491),_0x472b14=await db['createQuery'](_0x3fbac4);return _0x472491;}async function dropTmpBulkBatchTable(_0x53c523){const _0x131c55=a4_0x196c55,_0x43f06f=db[_0x131c55(0x6a)](_0x131c55(0x88),'cache',_0x53c523),_0x41d251=await db['dropQuery'](_0x43f06f);return _0x41d251;}async function loadTmpBulkBatchTable(_0x5624ef=requiredParam(a4_0x196c55(0x69)),_0x3288c0=requiredParam(a4_0x196c55(0x80))){const _0x1fe531=a4_0x196c55,_0x236e52=[];while(_0x3288c0[_0x1fe531(0x77)]){const _0x2770b7=_0x3288c0[_0x1fe531(0x64)]();_0x236e52[_0x1fe531(0x6e)]([_0x2770b7['id'],JSON[_0x1fe531(0x81)](_0x2770b7)]);}const _0x743cb6=db['format'](_0x1fe531(0x73),_0x1fe531(0x7f),_0x5624ef,_0x236e52);console['log']('Tmp\x20bulk\x20batch\x20insert\x20query\x20generated:\x20'+_0x743cb6[_0x1fe531(0x84)](0x0,0xc8));const _0x58861c=await db[_0x1fe531(0x7b)](_0x743cb6);return _0x58861c;}async function retrieveBulkBatchRecords(_0x43a6ee=requiredParam(a4_0x196c55(0x69))){const _0x2ab124=a4_0x196c55,_0x39b16c=db[_0x2ab124(0x6a)](_0x2ab124(0x67),'cache',_0x43a6ee);try{const _0x58c91f=await db['getQuery'](_0x39b16c),_0x381feb=[];while(_0x58c91f[_0x2ab124(0x76)][_0x2ab124(0x77)]){const _0x3e559c=_0x58c91f[_0x2ab124(0x76)]['shift'](),_0xae3fa=JSON[_0x2ab124(0x7c)](_0x3e559c[_0x2ab124(0x85)]);_0x381feb[_0x2ab124(0x6e)](_0xae3fa);}return _0x381feb;}catch(_0x247a92){console['error'](_0x2ab124(0x79)+_0x43a6ee+'\x20in\x20retrieveBulkBatchRecords:\x20',_0x247a92);if(_0x247a92[_0x2ab124(0x6d)]&&_0x247a92[_0x2ab124(0x6d)]===_0x2ab124(0x6b))throw new TableNotFoundError(_0x247a92[_0x2ab124(0x75)]);else throw new GenericTableError(_0x247a92);}}module['exports']={'createTmpBulkBatchTable':createTmpBulkBatchTable,'dropTmpBulkBatchTable':dropTmpBulkBatchTable,'loadTmpBulkBatchTable':loadTmpBulkBatchTable,'retrieveBulkBatchRecords':retrieveBulkBatchRecords};