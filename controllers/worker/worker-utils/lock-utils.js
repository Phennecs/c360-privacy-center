const a11_0x52b0b0=a11_0x538c;(function(_0xd2f1f1,_0x45d43c){const _0xbe2612=a11_0x538c,_0x1c67bb=_0xd2f1f1();while(!![]){try{const _0x15658d=-parseInt(_0xbe2612(0x16d))/0x1+-parseInt(_0xbe2612(0x150))/0x2*(parseInt(_0xbe2612(0x158))/0x3)+parseInt(_0xbe2612(0x165))/0x4+-parseInt(_0xbe2612(0x16c))/0x5*(-parseInt(_0xbe2612(0x166))/0x6)+-parseInt(_0xbe2612(0x169))/0x7*(-parseInt(_0xbe2612(0x15a))/0x8)+-parseInt(_0xbe2612(0x15e))/0x9*(-parseInt(_0xbe2612(0x154))/0xa)+-parseInt(_0xbe2612(0x15b))/0xb;if(_0x15658d===_0x45d43c)break;else _0x1c67bb['push'](_0x1c67bb['shift']());}catch(_0x1864f3){_0x1c67bb['push'](_0x1c67bb['shift']());}}}(a11_0x3e75,0x6f34f));function a11_0x538c(_0x3490e1,_0xf013f0){const _0x3e751c=a11_0x3e75();return a11_0x538c=function(_0x538cb2,_0x133fbd){_0x538cb2=_0x538cb2-0x150;let _0x5d55dc=_0x3e751c[_0x538cb2];return _0x5d55dc;},a11_0x538c(_0x3490e1,_0xf013f0);}const {acquireAdvisoryLock,releaseAdvisoryLock}=require('../../../db-utils/advisory-lock'),Enum=require(a11_0x52b0b0(0x167)),requiredParam=require(a11_0x52b0b0(0x15f)),LOCK_TYPES=Object[a11_0x52b0b0(0x160)](new Enum([a11_0x52b0b0(0x159),a11_0x52b0b0(0x152)])),LOCK_TYPE_MAP=Object['freeze'](Object[a11_0x52b0b0(0x157)](LOCK_TYPES)[a11_0x52b0b0(0x15d)]((_0x4b9970,_0x5b3e21,_0xa266ad)=>({..._0x4b9970,[_0x5b3e21]:0x3e8+_0xa266ad}),{}));async function acquireLock(_0x1ce078=requiredParam('db'),_0x3538d5=requiredParam(a11_0x52b0b0(0x151))){const _0x50b6d1=a11_0x52b0b0;if(!Object[_0x50b6d1(0x162)](LOCK_TYPES)[_0x50b6d1(0x15c)](_0x3538d5))throw new Error(_0x50b6d1(0x16a)+_0x3538d5+_0x50b6d1(0x153)+Object[_0x50b6d1(0x162)](LOCK_TYPES)[_0x50b6d1(0x164)](',\x20'));console[_0x50b6d1(0x155)]('Acquiring\x20lock:\x20'+_0x3538d5+_0x50b6d1(0x16b));const _0x11b940=await acquireAdvisoryLock(_0x1ce078,LOCK_TYPE_MAP[_0x3538d5]);return console[_0x50b6d1(0x155)](_0x50b6d1(0x161)+_0x3538d5),_0x11b940;}async function releaseLock(_0x2ccc11=requiredParam('db'),_0x30456c=requiredParam('lockType')){const _0x1a88de=a11_0x52b0b0;if(!Object['values'](LOCK_TYPES)[_0x1a88de(0x15c)](_0x30456c))throw new Error(_0x1a88de(0x163)+Object[_0x1a88de(0x162)](LOCK_TYPES)['join'](',\x20'));console['log'](_0x1a88de(0x168)+_0x30456c+_0x1a88de(0x16b));const _0xf1359d=await releaseAdvisoryLock(_0x2ccc11,LOCK_TYPE_MAP[_0x30456c]);console[_0x1a88de(0x155)]('Lock\x20released:\x20'+_0x30456c);}function a11_0x3e75(){const _0x5a16de=['Lock\x20acquired:\x20','values','Unsupported\x20lockType\x20for\x20releaseLock.\x20Valid\x20types\x20are:\x20','join','2178960YXhbBB','6JhpvSb','../../../utils/enum','Releasing\x20lock:\x20','1323371lrOFQl','Unsupported\x20lockType\x20for\x20acquireLock:\x20','\x20...','1445225rfLFrV','448933MaMGQi','139158MCNIMp','lockType','TEST','.\x20Valid\x20types\x20are:\x20','3013090MwrJxU','log','exports','keys','9jJTtui','SERIAL_BULK','24NqNDku','9794279zloidg','includes','reduce','18LGAatT','../../../utils/required-param','freeze'];a11_0x3e75=function(){return _0x5a16de;};return a11_0x3e75();}module[a11_0x52b0b0(0x156)]={'LOCK_TYPES':LOCK_TYPES,'LOCK_TYPE_MAP':LOCK_TYPE_MAP,'acquireLock':acquireLock,'releaseLock':releaseLock};