const a1_0x52fb90=a1_0xa37b;(function(_0x270cc3,_0x487101){const _0x3a0402=a1_0xa37b,_0x1deac9=_0x270cc3();while(!![]){try{const _0x17097e=-parseInt(_0x3a0402(0x14d))/0x1*(parseInt(_0x3a0402(0x140))/0x2)+parseInt(_0x3a0402(0x153))/0x3+parseInt(_0x3a0402(0x13a))/0x4+parseInt(_0x3a0402(0x14f))/0x5+parseInt(_0x3a0402(0x151))/0x6*(-parseInt(_0x3a0402(0x145))/0x7)+-parseInt(_0x3a0402(0x131))/0x8+-parseInt(_0x3a0402(0x149))/0x9;if(_0x17097e===_0x487101)break;else _0x1deac9['push'](_0x1deac9['shift']());}catch(_0x5c8fab){_0x1deac9['push'](_0x1deac9['shift']());}}}(a1_0x573e,0xb918c));const SFAxiosWrapper=require(a1_0x52fb90(0x137)),{authHeroku}=require(a1_0x52fb90(0x13b));function a1_0xa37b(_0x572cdc,_0x406b99){const _0x573e8b=a1_0x573e();return a1_0xa37b=function(_0xa37b56,_0x132bab){_0xa37b56=_0xa37b56-0x131;let _0x4cfcaf=_0x573e8b[_0xa37b56];return _0x4cfcaf;},a1_0xa37b(_0x572cdc,_0x406b99);}let sfAxios=null;function initSFAxiosWrapper(){const _0x1b00b6=a1_0x52fb90;if(sfAxios!=null)return;const _0x455467=process['env'][_0x1b00b6(0x138)],_0x2103f9=process[_0x1b00b6(0x133)][_0x1b00b6(0x13d)],_0x369058=process[_0x1b00b6(0x133)][_0x1b00b6(0x13e)],_0x2d2ca8=process[_0x1b00b6(0x133)][_0x1b00b6(0x152)];if(!_0x455467||!_0x2103f9||!_0x369058||!_0x2d2ca8){console[_0x1b00b6(0x13c)]('One\x20or\x20more\x20of\x20SF_LOGIN_URL,\x20SF_INSTANCE_URL,\x20SF_CLIENT_ID,\x20or\x20SF_REFRESH_TOKEN\x20config\x20vars\x20are\x20not\x20set.\x20Cannot\x20proceed\x20to\x20initialize\x20SFAxiosWrapper\x20for\x20post-upgrade\x20methods.');return;}sfAxios=new SFAxiosWrapper(_0x455467,_0x2103f9,_0x369058,_0x2d2ca8)['getSFAxiosInstance']();}function a1_0x573e(){const _0xcf39b3=['SF_CLIENT_ID','Post-upgrade\x20could\x20not\x20run\x20because\x20the\x20appropriate\x20SF\x20OAuth\x20vars\x20are\x20not\x20set.','132ILPjed','error','/services/apexrest/post-upgrade','postUpgrade','Post-upgrade\x20endpoint\x20Heroku\x20auth\x20failed!','23863HVjgQc','post-upgrade\x20packageRes.data\x20=>','Success','get','1412055xdiEQH','data','status','body','13297mRLXNv','json','6177405qTjdHA','log','1986AfCmLh','SF_REFRESH_TOKEN','4192149bsKcJu','post-upgrade\x20request\x20received:\x20req.body\x20=>','Post-upgrade\x20could\x20not\x20run\x20because\x20the\x20appropriate\x20SF\x20OAuth\x20vars\x20are\x20not\x20set.\x20Looks\x20like\x20OAuth\x20has\x20not\x20been\x20completed.','7635024KJDbBl','exports','env','header','Authorization','end','../../models/salesforce/sf-axios-wrapper','SF_LOGIN_URL','Auth\x20passed,\x20proceeding.','4970184BfQnMp','../process','warn','SF_INSTANCE_URL'];a1_0x573e=function(){return _0xcf39b3;};return a1_0x573e();}async function postUpgradeHandler(_0x4267c6,_0x10acd2){const _0x22b3bb=a1_0x52fb90;console['log'](_0x22b3bb(0x154),_0x4267c6[_0x22b3bb(0x14c)]);let _0x319cdf=_0x4267c6[_0x22b3bb(0x134)](_0x22b3bb(0x135));const _0x3bc7f9=await authHeroku(_0x319cdf,null,_0x22b3bb(0x143),![]);if(_0x3bc7f9[_0x22b3bb(0x14b)]!==_0x22b3bb(0x147))return console[_0x22b3bb(0x141)](_0x22b3bb(0x144)),_0x10acd2[_0x22b3bb(0x14b)](0x194)[_0x22b3bb(0x14e)](_0x3bc7f9)[_0x22b3bb(0x136)]();console[_0x22b3bb(0x150)](_0x22b3bb(0x139)),initSFAxiosWrapper();if(!sfAxios)return console[_0x22b3bb(0x13c)](_0x22b3bb(0x13f)),_0x10acd2['status'](0x194)[_0x22b3bb(0x14e)]({'error':'OAUTH_INCOMPLETE','errorMessage':_0x22b3bb(0x155)});try{const _0x1fcf3f=await sfAxios[_0x22b3bb(0x148)](_0x22b3bb(0x142),{});return console[_0x22b3bb(0x150)](_0x22b3bb(0x146),_0x1fcf3f[_0x22b3bb(0x14a)]),_0x10acd2['status'](0xc8)[_0x22b3bb(0x14e)]({'invoked':!![],'packageResponse':_0x1fcf3f[_0x22b3bb(0x14a)]});}catch(_0x3750e6){return console[_0x22b3bb(0x141)](_0x3750e6),_0x10acd2[_0x22b3bb(0x14b)](0x1f4)[_0x22b3bb(0x14e)]({'invoked':![]});}}module[a1_0x52fb90(0x132)]=postUpgradeHandler;