const a1_0x22fde6=a1_0x246b;(function(_0x5cb8a6,_0x3f0544){const _0x3cfc18=a1_0x246b,_0x17fa69=_0x5cb8a6();while(!![]){try{const _0x3d8da6=parseInt(_0x3cfc18(0x9f))/0x1+parseInt(_0x3cfc18(0x9a))/0x2+-parseInt(_0x3cfc18(0xa9))/0x3*(-parseInt(_0x3cfc18(0xb1))/0x4)+parseInt(_0x3cfc18(0xb4))/0x5+parseInt(_0x3cfc18(0x9b))/0x6*(-parseInt(_0x3cfc18(0xb6))/0x7)+parseInt(_0x3cfc18(0xad))/0x8*(-parseInt(_0x3cfc18(0xba))/0x9)+-parseInt(_0x3cfc18(0xab))/0xa*(parseInt(_0x3cfc18(0xbc))/0xb);if(_0x3d8da6===_0x3f0544)break;else _0x17fa69['push'](_0x17fa69['shift']());}catch(_0x2b5697){_0x17fa69['push'](_0x17fa69['shift']());}}}(a1_0x4e83,0x6a7f3));const SFAxiosWrapper=require('../../models/salesforce/sf-axios-wrapper'),{authHeroku}=require(a1_0x22fde6(0xb9));let sfAxios=null;function a1_0x4e83(){const _0x12450b=['SF_LOGIN_URL','SF_REFRESH_TOKEN','SF_INSTANCE_URL','21CfHTQP','One\x20or\x20more\x20of\x20SF_LOGIN_URL,\x20SF_INSTANCE_URL,\x20SF_CLIENT_ID,\x20or\x20SF_REFRESH_TOKEN\x20config\x20vars\x20are\x20not\x20set.\x20Cannot\x20proceed\x20to\x20initialize\x20SFAxiosWrapper\x20for\x20post-upgrade\x20methods.','99520IglrAc','post-upgrade\x20request\x20received:\x20req.body\x20=>','46888rXZvae','data','SF_CLIENT_ID','end','58508RBsaxS','/services/apexrest/post-upgrade','log','68515tieAvV','warn','7XObcau','Authorization','postUpgrade','../process','549mxgIUH','Auth\x20passed,\x20proceeding.','594iMxEDw','Post-upgrade\x20could\x20not\x20run\x20because\x20the\x20appropriate\x20SF\x20OAuth\x20vars\x20are\x20not\x20set.','1215998ScDjPn','562854bNdgNH','Success','getSFAxiosInstance','status','700858iVHArY','get','exports','json','OAUTH_INCOMPLETE','error','env'];a1_0x4e83=function(){return _0x12450b;};return a1_0x4e83();}function a1_0x246b(_0x303b68,_0x4bf3b6){const _0x4e83e9=a1_0x4e83();return a1_0x246b=function(_0x246b94,_0x17c312){_0x246b94=_0x246b94-0x99;let _0x5c5294=_0x4e83e9[_0x246b94];return _0x5c5294;},a1_0x246b(_0x303b68,_0x4bf3b6);}function initSFAxiosWrapper(){const _0x2a5e20=a1_0x22fde6;if(sfAxios!=null)return;const _0x2ca897=process['env'][_0x2a5e20(0xa6)],_0x88c4fc=process[_0x2a5e20(0xa5)][_0x2a5e20(0xa8)],_0x100c4e=process[_0x2a5e20(0xa5)][_0x2a5e20(0xaf)],_0x31e7fa=process['env'][_0x2a5e20(0xa7)];if(!_0x2ca897||!_0x88c4fc||!_0x100c4e||!_0x31e7fa){console[_0x2a5e20(0xb5)](_0x2a5e20(0xaa));return;}sfAxios=new SFAxiosWrapper(_0x2ca897,_0x88c4fc,_0x100c4e,_0x31e7fa)[_0x2a5e20(0x9d)]();}async function postUpgradeHandler(_0x5ca1ee,_0x3e0de7){const _0x56d450=a1_0x22fde6;console['log'](_0x56d450(0xac),_0x5ca1ee['body']);let _0x2dee25=_0x5ca1ee['header'](_0x56d450(0xb7));const _0x5b5115=await authHeroku(_0x2dee25,null,_0x56d450(0xb8),![]);if(_0x5b5115[_0x56d450(0x9e)]!==_0x56d450(0x9c))return console[_0x56d450(0xa4)]('Post-upgrade\x20endpoint\x20Heroku\x20auth\x20failed!'),_0x3e0de7[_0x56d450(0x9e)](0x194)[_0x56d450(0xa2)](_0x5b5115)[_0x56d450(0xb0)]();console['log'](_0x56d450(0xbb)),initSFAxiosWrapper();if(!sfAxios)return console[_0x56d450(0xb5)](_0x56d450(0x99)),_0x3e0de7['status'](0x194)[_0x56d450(0xa2)]({'error':_0x56d450(0xa3),'errorMessage':'Post-upgrade\x20could\x20not\x20run\x20because\x20the\x20appropriate\x20SF\x20OAuth\x20vars\x20are\x20not\x20set.\x20Looks\x20like\x20OAuth\x20has\x20not\x20been\x20completed.'});try{const _0xcd9ab9=await sfAxios[_0x56d450(0xa0)](_0x56d450(0xb2),{});return console[_0x56d450(0xb3)]('post-upgrade\x20packageRes.data\x20=>',_0xcd9ab9[_0x56d450(0xae)]),_0x3e0de7[_0x56d450(0x9e)](0xc8)[_0x56d450(0xa2)]({'invoked':!![],'packageResponse':_0xcd9ab9[_0x56d450(0xae)]});}catch(_0x2e76fc){return console[_0x56d450(0xa4)](_0x2e76fc),_0x3e0de7[_0x56d450(0x9e)](0x1f4)[_0x56d450(0xa2)]({'invoked':![]});}}module[a1_0x22fde6(0xa1)]=postUpgradeHandler;