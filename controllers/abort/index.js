const a0_0x256783=a0_0x4f1e;(function(_0x4659ff,_0x2ea7c0){const _0x72951b=a0_0x4f1e,_0xac996d=_0x4659ff();while(!![]){try{const _0x4b99a3=parseInt(_0x72951b(0x122))/0x1+-parseInt(_0x72951b(0x110))/0x2+-parseInt(_0x72951b(0x11c))/0x3*(-parseInt(_0x72951b(0x10f))/0x4)+parseInt(_0x72951b(0x11b))/0x5+-parseInt(_0x72951b(0x11a))/0x6+-parseInt(_0x72951b(0x121))/0x7*(parseInt(_0x72951b(0x10e))/0x8)+parseInt(_0x72951b(0x127))/0x9;if(_0x4b99a3===_0x2ea7c0)break;else _0xac996d['push'](_0xac996d['shift']());}catch(_0x7d5f74){_0xac996d['push'](_0xac996d['shift']());}}}(a0_0x1788,0x91269));function a0_0x1788(){const _0x572469=['2346705rkPkoF','15TTLOAE','Auth\x20passed,\x20proceeding.','DeveloperName','Success','Submitting\x20policy-aborter\x20job\x20for\x20policyName:\x20','133fafiNs','197021WnFoIC','../../models/queue','body','../process','log','13126788cyvHWv','403672apYPHO','680844SpVsQx','1942710ZArayE','status','error','Abort\x20endpoint\x20Heroku\x20auth\x20failed!','Authorization','No\x20pending\x20jobs\x20or\x20queued\x20policies\x20detected,\x20no\x20need\x20to\x20abort\x20anything.','exports','Abort\x20request\x20received:\x20req.body\x20=>','../worker/worker-utils/get-pending-job-count','header','2708016XkhTrE'];a0_0x1788=function(){return _0x572469;};return a0_0x1788();}const {authHeroku}=require(a0_0x256783(0x125)),getPendingJobCount=require(a0_0x256783(0x118)),{handleJobSubmission}=require('../worker/worker-utils/job-gateway');async function abortHandler(_0x5d4e68,_0x34926c){const _0x29f80b=a0_0x256783;console[_0x29f80b(0x126)](_0x29f80b(0x117),_0x5d4e68[_0x29f80b(0x124)]);let _0x33c315=_0x5d4e68[_0x29f80b(0x119)](_0x29f80b(0x114)),_0x2518fd=_0x5d4e68[_0x29f80b(0x124)][_0x29f80b(0x11e)];const _0x1f5a54=await authHeroku(_0x33c315,null,_0x2518fd,!![]);_0x34926c[_0x29f80b(0x111)](_0x1f5a54[_0x29f80b(0x111)]==_0x29f80b(0x11f)?0xc8:0x194)['json'](_0x1f5a54)['end']();if(_0x1f5a54[_0x29f80b(0x111)]!==_0x29f80b(0x11f)){console[_0x29f80b(0x112)](_0x29f80b(0x113));return;}console[_0x29f80b(0x126)](_0x29f80b(0x11d));const {configQueue:_0x3564a0,nonPolicyQueues:_0x70e6fc,policyQueue:_0xa24989,upStateQueue:_0xb4ee53}=require(_0x29f80b(0x123)),_0x15eb8a=await getPendingJobCount([_0xa24989,..._0x70e6fc,_0xb4ee53]);if(!_0x15eb8a){console[_0x29f80b(0x126)](_0x29f80b(0x115));return;}else console[_0x29f80b(0x126)]('Pending\x20jobs\x20or\x20policies\x20were\x20detected,\x20some\x20policy\x20is\x20queued\x20or\x20running.\x20Proceeding\x20with\x20abort\x20job\x20submission\x20(if\x20matching\x20abort\x20criteria).');console[_0x29f80b(0x126)](_0x29f80b(0x120)+_0x2518fd+'!');const _0x598518=await handleJobSubmission({'queue':_0x3564a0,'jobType':'policy-aborter','jobData':{'policyName':_0x2518fd},'skipCounters':!![]});return;}function a0_0x4f1e(_0x3e7806,_0x4aa92e){const _0x1788e2=a0_0x1788();return a0_0x4f1e=function(_0x4f1e69,_0x10098c){_0x4f1e69=_0x4f1e69-0x10e;let _0x4fb4c8=_0x1788e2[_0x4f1e69];return _0x4fb4c8;},a0_0x4f1e(_0x3e7806,_0x4aa92e);}module[a0_0x256783(0x116)]=abortHandler;