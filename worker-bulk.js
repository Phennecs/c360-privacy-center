function a45_0xf34b(){const _0x160c12=['dotenv','\x20-\x20objectName:\x20','24611268pKJMLc','data','\x20\x20\x20maxHeapSize:\x20','2110nLRgBR','\x20job\x20started\x20-\x20jobId:','success','throng','enableEndPhaseRetries','error','objectName','executionId','REDIS_URL\x20is\x20not\x20set,\x20will\x20not\x20proceed!','11xuOBtO','\x20executionId:\x20','log','./models/database','completed','25394pdmJRe','Bulk\x20update\x20results:\x20','process','failed','SPECIAL','getHeapStatistics','toFixed','heap_size_limit','\x20shutdown\x20invoked.','Bulk\x20update\x20error','run','SIGTERM','193347yWfRXj','./models/salesforce','./errors','\x20mb','Throng\x20worker\x20id:\x20','Throng\x20worker\x20started\x20with\x20id:\x20','./controllers/worker/worker-utils/job-gateway','bulk-updater','3447OHELMm','13540QqgzML','name','33faZZiU','./controllers/worker/bulk-updater','5632ZAHIea','\x20-\x20policyName:\x20','once','1629840onkHWc','stringify','Modify\x20Phase\x20Completion','REDIS_URL','policyName','3859984jtKyrZ','14pijaCb','stalled'];a45_0xf34b=function(){return _0x160c12;};return a45_0xf34b();}const a45_0x331b93=a45_0x4cde;(function(_0xc6c398,_0x1e137b){const _0x185569=a45_0x4cde,_0x122b0c=_0xc6c398();while(!![]){try{const _0x3a28a6=-parseInt(_0x185569(0x1e1))/0x1*(parseInt(_0x185569(0x1ca))/0x2)+parseInt(_0x185569(0x1d6))/0x3+-parseInt(_0x185569(0x1e3))/0x4*(-parseInt(_0x185569(0x1bc))/0x5)+-parseInt(_0x185569(0x1e6))/0x6+-parseInt(_0x185569(0x1ec))/0x7*(parseInt(_0x185569(0x1eb))/0x8)+-parseInt(_0x185569(0x1de))/0x9*(parseInt(_0x185569(0x1df))/0xa)+-parseInt(_0x185569(0x1c5))/0xb*(-parseInt(_0x185569(0x1b9))/0xc);if(_0x3a28a6===_0x1e137b)break;else _0x122b0c['push'](_0x122b0c['shift']());}catch(_0x4c196a){_0x122b0c['push'](_0x122b0c['shift']());}}}(a45_0xf34b,0x82b31),require(a45_0x331b93(0x1ee))['config']());const v8=require('v8'),throng=require(a45_0x331b93(0x1bf)),{maxJobsPerWorkerHeavyNetwork,workers}=require('./settings'),{BulkUpdateError}=require(a45_0x331b93(0x1d8)),{handleJobCompleted,handleJobFailure,handleJobStalled}=require(a45_0x331b93(0x1dc)),SalesforceModel=require(a45_0x331b93(0x1d7)),DBModel=require(a45_0x331b93(0x1c8));if(!process['env'][a45_0x331b93(0x1e9)]){console['log'](a45_0x331b93(0x1c4));return;}function a45_0x4cde(_0x404ecf,_0x2c2600){const _0xf34b11=a45_0xf34b();return a45_0x4cde=function(_0x4cde5e,_0x330077){_0x4cde5e=_0x4cde5e-0x1b9;let _0x2ed20=_0xf34b11[_0x4cde5e];return _0x2ed20;},a45_0x4cde(_0x404ecf,_0x2c2600);}const {bulkQueue,modifyQueue,upStateQueue}=require('./models/queue'),BulkUpdater=require(a45_0x331b93(0x1e2)),{insertPhaseFlag,PHASE_FLAG_TYPES}=require('./controllers/worker/worker-utils/phase-flag'),{runGC}=require('./utils/memory-utils');throng({'worker':startWorker,'count':workers,'lifetime':Infinity,'grace':0x1388});async function startWorker(_0x1bc35b,_0x165629){const _0x7d4ef7=a45_0x331b93,_0x1ccc7d=v8[_0x7d4ef7(0x1cf)]();console[_0x7d4ef7(0x1c7)](_0x7d4ef7(0x1db)+_0x1bc35b+_0x7d4ef7(0x1bb)+(_0x1ccc7d[_0x7d4ef7(0x1d1)]/0x400/0x400)[_0x7d4ef7(0x1d0)](0x0)+_0x7d4ef7(0x1d9)),process['once'](_0x7d4ef7(0x1d5),_0x41251d),process[_0x7d4ef7(0x1e5)]('SIGINT',_0x41251d);function _0x41251d(){const _0x1cb660=_0x7d4ef7;console[_0x1cb660(0x1c7)](_0x1cb660(0x1da)+_0x1bc35b+_0x1cb660(0x1d2)),_0x165629();}const _0x40b1ec=new DBModel(),_0x13f429=new SalesforceModel();bulkQueue[_0x7d4ef7(0x1cc)](maxJobsPerWorkerHeavyNetwork,async _0x3a112b=>{const _0x4718e7=_0x7d4ef7;_0x3a112b['name']=_0x4718e7(0x1dd),console[_0x4718e7(0x1c7)](_0x3a112b[_0x4718e7(0x1e0)]+_0x4718e7(0x1bd)+_0x3a112b['id']+_0x4718e7(0x1e4)+_0x3a112b['data'][_0x4718e7(0x1ea)]+_0x4718e7(0x1c6)+_0x3a112b[_0x4718e7(0x1ba)][_0x4718e7(0x1c3)]+_0x4718e7(0x1ef)+_0x3a112b[_0x4718e7(0x1ba)][_0x4718e7(0x1c2)]);try{const _0x4c13b5=new BulkUpdater({'job':_0x3a112b,'salesforce':_0x13f429,'db':_0x40b1ec,'modifyQueue':modifyQueue,'bulkQueue':bulkQueue,'upStateQueue':upStateQueue}),_0x8ff635=await _0x4c13b5[_0x4718e7(0x1d4)]();console[_0x4718e7(0x1c7)](_0x4718e7(0x1cb)+JSON[_0x4718e7(0x1e7)](_0x8ff635));if(_0x8ff635[_0x4718e7(0x1c0)]){const _0x40bd49=await insertPhaseFlag(_0x40b1ec,_0x3a112b['data'][_0x4718e7(0x1c3)],'MODIFY',PHASE_FLAG_TYPES[_0x4718e7(0x1ce)],_0x4718e7(0x1c0));}if(!_0x8ff635[_0x4718e7(0x1be)])throw new BulkUpdateError(_0x8ff635[_0x4718e7(0x1c1)]);}catch(_0x4d70cd){_0x4d70cd instanceof BulkUpdateError?console[_0x4718e7(0x1c1)](_0x4718e7(0x1d3),_0x4d70cd):console[_0x4718e7(0x1c1)]('bulk-updater\x20error',_0x4d70cd);throw _0x4d70cd;}finally{runGC();}});for(const _0x3bc7b5 of[bulkQueue]){_0x3bc7b5['on'](_0x7d4ef7(0x1c9),async(_0x315935,_0x58d28d)=>{await handleJobCompleted(_0x315935,_0x58d28d);}),_0x3bc7b5['on'](_0x7d4ef7(0x1ed),async _0x263366=>{await handleJobStalled(_0x263366);});}bulkQueue['on'](_0x7d4ef7(0x1cd),async(_0x1575d7,_0x21112b)=>{const _0x25fa41=_0x7d4ef7;await handleJobFailure(_0x1575d7,_0x21112b,_0x25fa41(0x1e8),'The\x20Modification\x20Phase\x20has\x20failed\x20with\x20result:\x20'+_0x21112b+'.');});}